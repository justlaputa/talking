<!doctype html>  
<html lang="en">
  
  <head>
  <meta charset="utf-8">
    
    <title>LT - jasmine</title>

    <meta name="description" content="Lighting talk about jasmine">

    <meta name="author" content="Han Xiao">

  <link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/theme/default.css" id="theme">
    <link rel="stylesheet" href="css/bootstrap.min.css">

  <!-- For syntax highlighting -->
  <link rel="stylesheet" href="lib/css/zenburn.css">

  <script>
    // If the query includes 'print-pdf' we'll use the PDF print sheet
    document.write( '<link rel="stylesheet" href="css/print/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
  </script>

  </head>

  <body>

    <div class="reveal">

    <!-- Used to fade in a background when a specific slide state is reached -->
    <div class="state-background"></div>

      <div class="slides">

        <section>
            <h2>BDD with</h2>
            <h2>Jasmine</h2>
            <p style="position:fixed; top:80%; left:70%"> by Han Xiao </p>
        </section>

        <section>
          <h2>What is BDD?</h2>
          <ul>
            <li>Behavior driven development</li>
            <li>Based on TDD</li>
            <li>Not change test flow</li>
            <li>Another way to write Unit Test</li>
          </ul>
          <div>
        <img src="img/tdd.gif" alt="TDD">
      </div>
        </section>

    <section>
      <h2>Writing Test by Scenario</h2>
      <br />
      <div style="text-align: left;">
        <p><a>Scenario </a>: Calculator can add integers </p>
        <br />
        <p><a>Given</a> a calculator</p>
        <p><a>And</a> two integers</p>
        <p><a>When</a> calling 'add' function</p>
        <p><a>It </a> should return the sum</p>
      </div>
    </section>

    <section>
      <h2>The unit test way</h2>
            <pre><code contenteditable>
public class TestCalculator {
    private Calculator cal;

    @Before
    public void setUp() {
        Calculator cal = new Calculator();
    }

    @Test
    public void testAddIntegers() {
        assertEquals(3, cal.add(1, 2));
    }
}
            </code></pre>
    </section>

    <section>
      <h2>Lets BDD!</h2>
      <p>write a test spec file <a>calculatorSpec.js</a></p>
      <pre><code contenteditable>
describe("A Calculator", function() {
  var cal;

  beforeEach(function() {
    cal = new Calculator();
  });

  describe("when adding two integers", function() {
    it("should return the sum", function() {
      expect(cal.add(1, 2)).toEqual(3);
    });
  })
})
      </code></pre>       
    </section>

    <section>
        <h2>How to use</h2>
        <pre><code contenteditable>
&lt;head&gt;
  &lt;script src=&quot;jasmine.js&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;jasmine-html.js&quot;&gt;&lt;/script&gt;
  &lt;script&gt;
    (function() {
      var jasmineEnv = jasmine.getEnv()
      jasmineEnv.addReporter(new jasmine.HtmlReporter)
      window.onload = function() {
        jasmineEnv.execute()
      };
    })();
  &lt;/script&gt;
  &lt;script src=&quot;calculatorSpec.js&quot;&gt;&lt;/script&gt;
  &lt;link rel=&quot;stylesheet&quot; href=&quot;jasmine.css&quot;&gt;
&lt;/head&gt;
        </code></pre>
    </section>

    <section>
      <h2> Watch it fail </h2>
      <img width="841" height="569" src="img/fail.png"/>
    </section>

    <section>
      <h2>Write the code</h2>
      <p> implement code in <a>calculator.js</a></p>
      <pre><code contenteditable>
function Calculator() {
  this.add = function(a, b) {
    return a + b;
  }
}
      </code></pre>
      <p>add it to html</p>
      <pre><code contenteditable>
&lt;head&gt;
  &lt;script src=&quot;calculator.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
      </code></pre>
    </section>

    <section>
      <h2>See it pass!</h2>
      <img width="952" height="432" src="img/pass.png"/>
    </section>

    <section>
      <h2>More matchers</h2>
      <pre><code contenteditable>
expect(a).toBe(b);
expect(a).not.toBe(null);

expect(a.foo).toBeDefined();
expect(a.bar).toBeUndefined();

expect(bar).toThrow();
expect(foo).not.toThrow();
      </code></pre>
    </section>

    <section>
      <h2>Test with jQuery</h2>
      <p>Use <a href="https://github.com/velesin/jasmine-jquery">jasmine-jquery</a></p>
      <pre><code contenteditable>
loadFixtures('index.html');

expect($('#some-id')).toBeVisible();
expect($('#some-id')).toBeHidden();

expect($('#some-id')).toHaveClass("in");
expect($('#some-id')).not.toHaveClass("error");

expect($('#some-id')).toBeDisabled();
expect($('#some-id')).toBeFocused();
      </code></pre>
    </section>

    <section>
      <h2>Reference</h2>
      <ul>
        <li><a href="https://en.wikipedia.org/wiki/Behavior-driven_development">Behavior-driven development</a></li>
        <li><a href="http://pivotal.github.com/jasmine/">Official Jasmine Document</a></li>
        <li><a href="http://qunitjs.com/">QUnit</a>: unit test framework for javascript</li>
        <li><a href="https://github.com/velesin/jasmine-jquery">jasmine-jquery</a> on Github</li>
      </ul>
    </section>

    <section>
      <h2>Thanks!</h2>
    </section>
  </div>

    <!-- The navigational controls UI -->
    <aside class="controls">
    <a class="left" href="#">&#x25C4;</a>
    <a class="right" href="#">&#x25BA;</a>
    <a class="up" href="#">&#x25B2;</a>
    <a class="down" href="#">&#x25BC;</a>
    </aside>

    <!-- Presentation progress bar -->
    <div class="progress"><span></span></div>
    
  </div>

  <script src="lib/js/head.min.js"></script>
  <script src="js/reveal.min.js"></script>

  <script>
    
    // Full list of configuration options available here:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
    controls: true,
    progress: true,
    history: true,
    
    theme: Reveal.getQueryHash().theme || 'default', // available themes are in /css/theme
    transition: Reveal.getQueryHash().transition || 'linear', // default/cube/page/concave/linear(2d)

    // Optional libraries used to extend on reveal.js
    dependencies: [
    { src: 'lib/js/highlight.js', async: true, callback: function() { window.hljs.initHighlightingOnLoad(); } },
    { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
    { src: 'lib/js/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
    { src: 'lib/js/data-markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
    { src: 'lib/js/jquery-1.8.2.min.js', async: true, callback: function() {} },
    { src: 'lib/js/mytalk.js', async: true, callback: function() {} },
    { src: '/socket.io/socket.io.js', async: true, condition: function() { return window.location.host === 'localhost:1947'; } },
    { src: 'plugin/speakernotes/client.js', async: true, condition: function() { return window.location.host === 'localhost:1947'; } },
    ]
    });
    
  </script>
  </body>
</html>
